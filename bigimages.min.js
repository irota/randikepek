javascript:(function(){function a(){var a,b,e,f,g,h,i=document.querySelector(".btn.ok");if("on"==i.getAttribute("data-open"))j?document.querySelector(".photoContainer a").removeEventListener("click",c):document.querySelectorAll(".right .users a .userBox img").forEach(function(a){a.removeEventListener("mouseover",d)}),a="off",b="none",e="none",f="Ki",g="#cdcdcd",h="0 5px 0 0 #aaa0a0";else{if(j){let a=document.querySelector(".photoContainer a");a.addEventListener("click",c),a.removeAttribute("href")}else document.querySelectorAll(".right .users a .userBox img").forEach(function(a){a.addEventListener("mouseover",d)});a="on",b="flex",e="block",f="Be",g="#6ec956",h="0 5px 0 0 #439542"}document.querySelector("#imgov").style.display=e,i.setAttribute("data-open",a),i.style.backgroundColor=g,i.style.boxShadow=h,document.querySelector("#bigoverlay").style.display=b;let k;k=Array.from(document.styleSheets),k.forEach(a=>{""!==a.ownerNode.type&&"#bigcontrols"===a.rules[0].selectorText&&(a.ownerNode.id="bigstyle")})}function b(){return"www.valami.hu"}function c(a){a.stopPropagation();var b=document.querySelector("#bigimg"),c=document.location.href.match(/[0-9]{6,7}/)[0],d=document.querySelectorAll(".photos .thumbnail:not(.privatePhoto)"),e=document.querySelector("#bigoverlay");b.dataset.uid=c,k[`${i}${c}`]||(k[`${i}${c}`]={id:c,imgs:[],count:d.length,idx:0},d.forEach(a=>{k[`${i}${c}`].imgs.push(a.dataset.url)}));var f=k[`${i}${c}`].imgs[0];console.log("nano"),b.setAttribute("src",f),b.dataset.imgindex="0",1===a.which&&(e.style.opacity="1",e.style.width="100%",e.style.left="0")}async function d(a){var c,d=a.target,e=d.parentElement.parentElement.parentElement.href;0<e.search("elofizetes")&&(e=b()),c=e.match(/[0-9]{6,7}/)[0];var f,g,h=document.documentElement.scrollTop,j=document.documentElement.scrollLeft,l=d.getBoundingClientRect(),m=l.bottom-75+h,n=l.left+Math.round(l.width/2)-10+j;console.log(e,c),k[`${i}${c}`]||(await fetch(e).then(a=>a.text()).then(a=>{f=a.matchAll(/data-url=\"(.*?jpg)\"/g),g=Array.from(f),k[`${i}${c}`]={id:c,imgs:[],count:g.length,idx:0},g.forEach(a=>{k[`${i}${c}`].imgs.push(a[1])})}));var o=k[`${i}${c}`].imgs[0],p=document.querySelector("#imgov"),q=document.querySelector("#bigimg");p.style.top=`${m}px`,p.style.left=`${n}px`,q.dataset.uid=c,q.setAttribute("src",o),q.dataset.imgindex="0"}function e(a){var b=a.target,c=document.querySelector("#bigoverlay");1===a.which&&(b.style.left="-100px",b.style.top="-100px",c.style.opacity="1",c.style.width="100%",c.style.left="0")}function f(){var a=document.querySelectorAll("img");a.forEach(function(a){a.removeEventListener("mouseover",d)}),l=document.querySelector("#imgov"),l.removeEventListener("mousedown",e),document.body.removeChild(l),l=document.querySelector("#bigoverlay"),l.removeEventListener("click",g),document.body.removeChild(l),l=document.querySelector(".btn.ok"),l.removeEventListener("mousedown",e),l=document.querySelector(".btn.close"),l.removeEventListener("click",f),document.body.removeChild(document.querySelector("#bigcontrols")),document.head.removeChild(document.querySelector("#bigstyle"))}function g(){var a=document.querySelector("#bigoverlay");a.style.opacity="0",a.style.left="50%",a.style.width="0",document.querySelector("#bigimg").setAttribute("src",""),a=document.querySelector("#imgov"),a.style.left="-100px",a.style.top="-100px"}function h(a){a.stopPropagation();var b=a.target.dataset.way,c=document.querySelector("#bigimg"),d=document.querySelector("#bigimg").dataset.uid,e=k[`${i}${d}`].idx,f=k[`${i}${d}`].count;e="left"===b?(e+f-1)%f:(e+f+1)%f,c.setAttribute("src",k[`${i}${d}`].imgs[e]),k[`${i}${d}`].idx=e,c.dataset.imgindex=e}const i="id_";var j,k=[];console.log("Start BigImages bookmarklet"),j=!!(0<document.location.href.search("adatlap"));var l=document.createElement("div");l.id="bigoverlay",l.innerHTML=`<div class="bginner"><img id="bigimg" src=""><div class="go toleft" data-way="left"></div><div class="go toright" data-way="right"></div></div>`,document.body.appendChild(l),l=document.createElement("div"),l.id="bigcontrols",l.innerHTML=`<div class="btn ok" data-open="on">Be</div><div class="btn close">Ã—</div>`,document.body.appendChild(l),l=document.createElement("div"),l.id="imgov",document.body.appendChild(l),document.querySelectorAll(".bginner .go").forEach(a=>{a.addEventListener("click",h)});l=document.createElement("style"),l.id="bigstyle",l.setAttribute("type","text/css"),l.innerHTML="\n\t#bigcontrols{\n\t    position: fixed; \n\t    top: 0px; \n\t    right: 1vw; \n\t    z-index:1000000;\n\t    opacity: 0.1;\n\t    transition: opacity 0.3s ease 2s;\n\t}\n\n\t#bigcontrols:hover{\n\t    opacity:1;\n\t    transition: opacity 0.3s ease 0s;\n\t}\n\n\t#bigcontrols .btn{\n\t    min-width: 5vh;\n\t    text-align: center;\n\t    vertical-align: middle;\n\t    font-size:20px;\n\t    line-height:22px;\n\t    color:#fff;\n\t    margin-right:3px;\n\t    display:inline-block;\n\t    cursor: pointer;\n\t    padding: 0.3rem 0.5rem;\n\t    border-radius: 3px;\n\t    text-shadow: 1px -1px 0 rgba(0, 0, 0, 0.2);\n\t}\n\n\t.btn.ok{\n\t    background-color:#6ec956;\n\t    color:#aaa;\n\t    box-shadow: 0 5px 0 0 #439542;\n\t}\n\n\t.btn.close{\n\t    background-color:#f17e7e;\n\t    box-shadow: 0 5px 0 0 #d35959;\n\t}\n\n\t#bigoverlay{\n\t    position: fixed;\n\t    z-index: 1000000;\n\t    top: 0; \n\t    bottom: 0; \n\t    left: 50%; \n\t    width:0; \n\t    background: rgba(0, 0, 0, 0.93) none repeat scroll 0% 0%;\n\t    display: flex; \n\t    flex-direction: row; \n\t    align-items: center; \n\t    justify-content: center; \n\t    opacity:0; \n\t    transition: all 0.3s 0s linear;\n\t}    \n\n\t#bigoverlay .bginner{\n\t    max-width:60%; \n\t    box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.2)\n\n\t}\n\n\n\t#bigimg{\n\t    max-width:100%;\n\t    max-height:100vh;\n\t}\n\n\t#imgov{\n\t    position:absolute; \n\t    content:\"\";\n\t    display:block;\n\t    width:35px;\n\t    height:30px;\n\t    background-color:rgba(100,0,0,.2);\n\t    cursor:move;\n\t    z-index:100;\n\t    top:-100;\n\t    left:-100;\n\t    font-size:18px;\n\t    line-height:20px;\n\t    text-align:center;\n\t    color:#fff;\n\t    border-radius:3px;\n\t    box-shadow: 0 0 2px 2px rgba(255, 255, 255, 0.44);\n\t}\n\n\t#bigoverlay .borela {\n\t    position: absolute;\n\t}\n\n\t#bigoverlay .go {\n\t    position: absolute;\n\t    width: 20vh;\n\t    height: 20vh;\n\t    top: 40vh;\n\t    background: transparent;\n\t    border: solid 10vh transparent;\n\t    --border-color: #D81B60;\n\t    opacity : 0.1;\n\t    cursor : pointer;\n\t    transition : opacity 0.4s;\n\n\t}\n\n\t#bigoverlay .go.toleft{\n\t    border-right-color : var(--border-color);\n\t    left : -10vh;\n\t}\n\n\t#bigoverlay .go.toright{\n\t    border-left-color : var(--border-color);\n\t    right: -10vh;\n\t}\n\n\t#bigoverlay .go.toleft:hover,\n\t#bigoverlay .go.toright:hover{\n\t    opacity : 1;\n\t}",document.head.appendChild(l),l=document.querySelector("#imgov"),l.addEventListener("mousedown",e),l=document.querySelector(".btn.ok"),l.addEventListener("click",function(b){a(b.target)}),l=document.querySelector(".btn.close"),l.addEventListener("click",f),l=document.querySelector("#bigoverlay"),l.addEventListener("click",g),a()})();
